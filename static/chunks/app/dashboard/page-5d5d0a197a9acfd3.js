(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{478:function(e,t,s){Promise.resolve().then(s.bind(s,7197))},7197:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return A}});var n=s(7437),l=s(2265),i=s(5843),a=s(1522),r=s(6339),c=s(3641),d=s(8122),o=s(5211),m=s(7346);o.kL.register(o.uw,o.f$,o.ZL,o.qi,o.od,o.jn,o.l7,o.Dx,o.u,o.Gu,o.De);let x=e=>e>.75?"\uD83D\uDE03":e>.25?"\uD83D\uDE42":e>-.25?"\uD83D\uDE10":e>-.75?"\uD83D\uDE1F":"\uD83D\uDE20";var u=e=>{let t=Number(e.sentimentResult.documentSentiment.score),s=Number(e.sentimentResult.documentSentiment.magnitude),l=e.sentimentResult.sentences,o=l.map(e=>e.text.content),u=l.map(e=>e.sentiment.score);return(0,n.jsxs)("div",{className:"p-2 mt-2",children:[(0,n.jsxs)("div",{className:"flex justify-center items-center flex-col",children:[(0,n.jsx)("strong",{children:"Sentiment Analysis:"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-6xl",children:(0,n.jsx)(i.O,{content:t.toFixed(2),children:x(e.sentimentResult.documentSentiment.score)})}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Score:"})," ",t.toFixed(2)]}),(0,n.jsxs)(a.j,{placement:"right",children:[(0,n.jsx)(r.b,{children:(0,n.jsx)(c.A,{size:"sm",radius:"full",className:"mx-2",isIconOnly:!0,children:(0,n.jsx)("strong",{children:"?"})})}),(0,n.jsx)(d.g,{children:(0,n.jsxs)("div",{className:"px-1 py-2",children:[(0,n.jsx)("div",{className:"text-small font-bold",children:"Score"}),(0,n.jsx)("div",{className:"text-tiny mt-1",children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"The score typically ranges from -1.0 to 1.0."}),(0,n.jsx)("li",{children:"A score closer to 1.0 indicates positive sentiment."}),(0,n.jsx)("li",{children:"A score closer to -1.0 indicates negative sentiment."}),(0,n.jsx)("li",{children:"A score around 0 indicates neutral sentiment."})]})})]})})]})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Magnitude:"})," ",s.toFixed(2)]}),(0,n.jsxs)(a.j,{placement:"right",children:[(0,n.jsx)(r.b,{children:(0,n.jsx)(c.A,{size:"sm",radius:"full",className:"mx-2",isIconOnly:!0,children:(0,n.jsx)("strong",{children:"?"})})}),(0,n.jsx)(d.g,{children:(0,n.jsxs)("div",{className:"px-1 py-2",children:[(0,n.jsx)("div",{className:"text-small font-bold",children:"Magnitude"}),(0,n.jsx)("div",{className:"text-tiny mt-1",children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"The magnitude measures the overall strength of the sentiment, regardless of whether it is positive or negative."}),(0,n.jsx)("li",{children:"It is a non-negative number that represents the absolute sentiment strength."}),(0,n.jsx)("li",{children:"A score closer to -1.0 indicates negative sentiment."}),(0,n.jsx)("li",{children:"Higher magnitude values indicate stronger sentiment (either positive or negative)."})]})})]})})]})]})]}),(0,n.jsx)("div",{className:"chart-container flex justify-center items-center w-full h-full",children:(0,n.jsx)(m.$Q,{data:{labels:o,datasets:[{label:"Sentence Sentiment Score",data:u,backgroundColor:"rgba(255, 0, 0, 0.2)",fill:"origin"}]},options:{scales:{x:{display:!1}}},className:"mt-4"})}),(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsx)("text",{children:"Hover over points to check sentences."})})]})},h=s(6189);let j=e=>{let t=[];return e.entities&&e.entities.forEach(e=>{var s;t.push({name:e.name,type:e.type,link:null===(s=e.metadata)||void 0===s?void 0:s.wikipedia_url})}),t};var p=e=>{let t=j(e.topicResults).reduce((e,t)=>(e[t.type]||(e[t.type]=[]),e[t.type].push(t),e),{});return(0,n.jsxs)("div",{className:"p-2 my-2",children:[(0,n.jsx)("text",{className:"text-lg font-bold",children:"Identified Topics"}),Object.keys(t).length>0?Object.keys(t).map(e=>(0,n.jsxs)("div",{children:[(0,n.jsx)("text",{className:"text-sm font-bold",children:e}),(0,n.jsx)("div",{className:"flex flex-wrap my-2",children:t[e].map((e,t)=>e.link?(0,n.jsx)(h.z,{className:"m-1",variant:"dot",children:(0,n.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)("u",{children:e.name})})},t):(0,n.jsx)(h.z,{className:"m-1",children:e.name},t))})]},e)):(0,n.jsx)("p",{children:"No topics found."})]})},f=s(8410),g=e=>{let t=e.originalData.tokens.map(e=>e.text.content.trim()).join(" ");return(0,n.jsxs)("div",{className:"p-2 mt-2",children:[(0,n.jsx)("text",{className:"text-lg font-bold",children:"Summarized Text"}),(0,n.jsx)(f.Y,{maxRows:25,className:"w-full mt-2",value:e.summaryData,isReadOnly:!0}),(0,n.jsx)("br",{}),(0,n.jsx)("text",{children:"Original Content"}),(0,n.jsx)(f.Y,{maxRows:25,className:"w-full mt-2",value:t,isReadOnly:!0})]})},b=s(6569),v=s(8226),N=s(2354),y=s(5448);o.kL.register(o.uw,o.f$,o.ZL,o.qi,o.od,o.jn,o.l7,o.Dx,o.u,o.Gu,o.De);let w={UNKNOWN:"Unknown",ADJ:"Adjective",ADP:"Adposition",ADV:"Adverb",CONJ:"Conjunction",DET:"Determiner",NOUN:"Noun",NUM:"Cardinal number",PRON:"Pronoun",PRT:"Particle",PUNCT:"Punctuation",VERB:"Verb",X:"Other",AFFIX:"Affix"},S=e=>{let t={};return e&&e.forEach(e=>{if(e.partOfSpeech&&e.partOfSpeech.tag){let s=e.partOfSpeech.tag;t[s]||(t[s]=0),t[s]++}}),t};var D=e=>{let t=S(e.tokenResults),s={labels:Object.keys(t).map(e=>w[e]||e),datasets:[{label:"Part of Speech Count",data:Object.values(t),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)","rgba(12, 163, 223, 0.5)","rgba(255, 99, 71, 0.5)","rgba(60, 179, 113, 0.5)","rgba(238, 130, 238, 0.5)","rgba(244, 164, 96, 0.5)","rgba(0, 128, 128, 0.5)"]}]},l={};return(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsxs)(b.n,{placement:"bottom",variant:"bordered","aria-label":"Tabs variants",className:"w-full",children:[(0,n.jsx)(v.r,{title:"Line",children:(0,n.jsx)("div",{className:"chart-container",children:(0,n.jsx)(m.x1,{data:s,options:l})})},"Area"),(0,n.jsx)(v.r,{title:"Bar",children:(0,n.jsx)("div",{className:"chart-container",children:(0,n.jsx)(m.$Q,{data:s,options:l})})},"Bar"),(0,n.jsx)(v.r,{title:"Pie",children:(0,n.jsx)("div",{className:"chart-container",children:(0,n.jsx)(m.$I,{data:s,options:l})})},"Pie"),(0,n.jsx)(v.r,{title:"Radar",children:(0,n.jsx)("div",{className:"chart-container",children:(0,n.jsx)(m.Fk,{data:s,options:l})})},"Radar")]})})},k=e=>{let{analysisResults:t}=e;return(0,n.jsx)("div",{className:"m-4",children:t&&(0,n.jsx)("div",{className:"flex w-full flex-col",children:(0,n.jsxs)(b.n,{size:"lg","aria-label":"Options",children:[(0,n.jsx)(v.r,{title:"Sentiment",children:(0,n.jsx)(N.w,{children:(0,n.jsx)(y.G,{children:(0,n.jsx)(u,{sentimentResult:t.sentimentResult[0]})})})},"Sentiment"),(0,n.jsx)(v.r,{title:"Summary",children:(0,n.jsx)(N.w,{children:(0,n.jsx)(y.G,{children:(0,n.jsx)(g,{originalData:t.summaryResult[0],summaryData:t.summary[0].summary_text})})})},"Summary"),(0,n.jsx)(v.r,{title:"Topics",children:(0,n.jsx)(N.w,{children:(0,n.jsx)(y.G,{children:(0,n.jsx)(p,{topicResults:t.entities[0]})})})},"Topics"),(0,n.jsx)(v.r,{title:"Keywords",children:(0,n.jsx)(N.w,{children:(0,n.jsx)(y.G,{children:(0,n.jsx)(D,{tokenResults:t.summaryResult[0].tokens})})})},"Keywords")]})})})},O=s(3708),R=s(6463),A=()=>{let[e,t]=(0,l.useState)(null),[s,i]=(0,l.useState)(""),[a,r]=(0,l.useState)(null),[c,d]=(0,l.useState)(!1),o=(0,R.useRouter)(),[m,x]=(0,l.useState)(!1),u=async()=>{localStorage.getItem("token")?o.push("/dashboard"):o.push("/login")};(0,l.useEffect)(()=>{u()});let h=async t=>{if(t.preventDefault(),d(!0),!e){i("No file selected");return}let s=new FormData;s.append("file",e);try{let e=await fetch("".concat("http://35.232.205.179:8000/","/upload"),{method:"POST",body:s}),t=await e.json();t.success?(r(t.data),i("")):i("Upload failed")}catch(e){i("An error occurred")}finally{x(!0),d(!1)}},j=async()=>{try{let e=await fetch("".concat("http://35.232.205.179:8000/","/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:localStorage.getItem("userId")})});(await e.json()).success&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),o.push("/login"))}catch(e){console.log("An error occurred",e)}};return(0,n.jsx)("div",{className:"pt-12 flex justify-center items-center",children:(0,n.jsxs)("div",{className:"w-full flex justify-center items-center flex-col",children:[(0,n.jsxs)("form",{onSubmit:h,children:[(0,n.jsx)("input",{className:"input w-60",onChange:e=>{e.target.files&&e.target.files.length>0&&t(e.target.files[0])},type:"file",accept:".txt,.html,.doc,.docx",disabled:m||c}),m?(0,n.jsx)("button",{type:"button",onClick:()=>window.location.reload(),className:"btn variant-filled mx-2",children:"Upload another"}):(0,n.jsx)("button",{type:"submit",className:"btn variant-filled mx-2",disabled:c,children:"Analyze"}),(0,n.jsx)("button",{className:"btn variant-filled",onClick:j,children:"Logout"}),s&&(0,n.jsx)("p",{children:s})]}),c&&(0,n.jsx)(O.W,{size:"sm",isIndeterminate:!0,label:"Uploading & Analyzing...",className:"max-w-md mt-4",color:"default"}),a&&(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)(k,{analysisResults:a})})]})})}}},function(e){e.O(0,[674,602,598,802,458,971,23,744],function(){return e(e.s=478)}),_N_E=e.O()}]);